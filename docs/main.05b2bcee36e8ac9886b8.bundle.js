(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/landscape.8ecd9f00.jpg"},153:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/portrait.5497ea9c.jpg"},236:function(module,exports,__webpack_require__){__webpack_require__(237),__webpack_require__(339),module.exports=__webpack_require__(340)},340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(24),__webpack_require__(19),__webpack_require__(18),__webpack_require__(25),__webpack_require__(26);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(79),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addDecorator)(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.withKnobs);var req=__webpack_require__(505);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(182)(module))},505:function(module,exports,__webpack_require__){var map={"./ImageHotspots.stories.js":506};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=505},506:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_ImageHotspots__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57),_landscape_jpg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(102),_landscape_jpg__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_landscape_jpg__WEBPACK_IMPORTED_MODULE_4__),_portrait_jpg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(153),_portrait_jpg__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_portrait_jpg__WEBPACK_IMPORTED_MODULE_5__),stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("ImagesHotspots",module);stories.addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs);var hotspots=[{x:10,y:30,content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:{padding:"10px"}},"Hotspot")}];stories.add("default",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{width:"100%",height:"90vh"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ImageHotspots__WEBPACK_IMPORTED_MODULE_3__.a,{src:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Image",_landscape_jpg__WEBPACK_IMPORTED_MODULE_4___default.a),alt:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Alternate text","Sample image"),hideControls:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide controls",!1),hotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.object)("Hotspots",hotspots),hideHotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide hotspots",!1)}))}),stories.add("landscape image & landscape container",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{width:"450px",height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ImageHotspots__WEBPACK_IMPORTED_MODULE_3__.a,{src:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Image",_landscape_jpg__WEBPACK_IMPORTED_MODULE_4___default.a),alt:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Alternate text","Sample image"),hideControls:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide controls",!1),hotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.object)("Hotspots",hotspots),hideHotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide hotspots",!1)}))}),stories.add("landscape image & portrait container",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{width:"250px",height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ImageHotspots__WEBPACK_IMPORTED_MODULE_3__.a,{src:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Image",_landscape_jpg__WEBPACK_IMPORTED_MODULE_4___default.a),alt:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Alternate text","Sample image"),hideControls:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide controls",!1),hotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.object)("Hotspots",hotspots),hideHotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide hotspots",!1)}))}),stories.add("portrait image & landscape container",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{width:"450px",height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ImageHotspots__WEBPACK_IMPORTED_MODULE_3__.a,{src:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Image",_portrait_jpg__WEBPACK_IMPORTED_MODULE_5___default.a),alt:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Alternate text","Sample image"),hideControls:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide controls",!1),hotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.object)("Hotspots",hotspots),hideHotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide hotspots",!1)}))}),stories.add("portrait image & portrait container",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{width:"225px",height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ImageHotspots__WEBPACK_IMPORTED_MODULE_3__.a,{src:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Image",_portrait_jpg__WEBPACK_IMPORTED_MODULE_5___default.a),alt:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("Alternate text","Sample image"),hideControls:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide controls",!1),hotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.object)("Hotspots",hotspots),hideHotspots:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Hide hotspots",!1)}))})}.call(this,__webpack_require__(182)(module))},57:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(21),__webpack_require__(22),__webpack_require__(31),__webpack_require__(75),__webpack_require__(24),__webpack_require__(19),__webpack_require__(74),__webpack_require__(229),__webpack_require__(147),__webpack_require__(148),__webpack_require__(2),__webpack_require__(121),__webpack_require__(507),__webpack_require__(149),__webpack_require__(46),__webpack_require__(150),__webpack_require__(18),__webpack_require__(32),__webpack_require__(25),__webpack_require__(26);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(38),prop_types_default=__webpack_require__.n(prop_types);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Hotspot_Hotspot=function(_React$Component){function Hotspot(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Hotspot),_possibleConstructorReturn(this,_getPrototypeOf(Hotspot).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Hotspot,react_default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Hotspot,[{key:"render",value:function render(){var _this$props=this.props,x=_this$props.x,y=_this$props.y,content=_this$props.content;return react_default.a.createElement("div",{style:{position:"absolute",display:"block",top:x+"%",left:y+"%",fontFamily:"Sans-Serif",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(0,0,0,0.5)"}},content)}}]),Hotspot}();Hotspot_Hotspot.displayName="Hotspot",Hotspot_Hotspot.propTypes={x:prop_types_default.a.number,y:prop_types_default.a.number,content:prop_types_default.a.element};var src_Hotspot=Hotspot_Hotspot;function ImageHotspots_typeof(obj){return(ImageHotspots_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++)if(i%2){var source=null==arguments[i]?{}:arguments[i];ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(arguments[i])):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(arguments[i],key))});return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ImageHotspots_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ImageHotspots_getPrototypeOf(o){return(ImageHotspots_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ImageHotspots_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ImageHotspots_setPrototypeOf(o,p){return(ImageHotspots_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}Hotspot_Hotspot.__docgenInfo={description:"",methods:[],displayName:"Hotspot",props:{x:{type:{name:"number"},required:!1,description:""},y:{type:{name:"number"},required:!1,description:""},content:{type:{name:"element"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Hotspot.js"]={name:"Hotspot",docgenInfo:Hotspot_Hotspot.__docgenInfo,path:"src/Hotspot.js"});var _ref2=react_default.a.createElement("br",null),_ref3=react_default.a.createElement("br",null),_ref4=react_default.a.createElement("br",null),ImageHotspots_ImageHotspots=function(_React$Component){function ImageHotspots(props){var _this;return function ImageHotspots_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ImageHotspots),(_this=function ImageHotspots_possibleConstructorReturn(self,call){return!call||"object"!==ImageHotspots_typeof(call)&&"function"!=typeof call?ImageHotspots_assertThisInitialized(self):call}(this,ImageHotspots_getPrototypeOf(ImageHotspots).call(this,props))).state={container:{width:void 0,height:void 0,orientation:void 0},image:{initialWidth:void 0,initialHeight:void 0,width:void 0,height:void 0,scale:void 0,ratio:void 0,orientation:void 0},hotspots:[]},_this.container=react_default.a.createRef(),_this.onImageLoad=_this.onImageLoad.bind(ImageHotspots_assertThisInitialized(_this)),_this.onWindowResize=_this.onWindowResize.bind(ImageHotspots_assertThisInitialized(_this)),_this.zoom=_this.zoom.bind(ImageHotspots_assertThisInitialized(_this)),_this}return function ImageHotspots_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ImageHotspots_setPrototypeOf(subClass,superClass)}(ImageHotspots,react_default.a.Component),function ImageHotspots_createClass(Constructor,protoProps,staticProps){return protoProps&&ImageHotspots_defineProperties(Constructor.prototype,protoProps),staticProps&&ImageHotspots_defineProperties(Constructor,staticProps),Constructor}(ImageHotspots,[{key:"componentDidMount",value:function componentDidMount(){var _this$container$curre=this.container.current,width=_this$container$curre.offsetWidth,height=_this$container$curre.offsetHeight,orientation=width>height?"landscape":"portrait",hotspots=this.props.hotspots;this.setState({container:{width:width,height:height,orientation:orientation},hotspots:hotspots}),window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,src=_this$props.src,alt=_this$props.alt,hotspots=_this$props.hotspots,hideControls=_this$props.hideControls,hideHotspots=_this$props.hideHotspots,_this$state=this.state,container=_this$state.container,image=_this$state.image,imageStyle={},hotspotsStyle={position:"absolute",top:0,left:0,right:0,margin:"auto"},buttonStyle={width:"25px",height:"25px",border:"none",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(0,0,0,0.5)"},minimapStyle={position:"absolute",display:"block",bottom:10,left:10,background:"#fff",boxShadow:"0px 0px 2px 0px rgba(0,0,0,0.5)"},guideStyle={position:"absolute",display:"block",top:0,left:0,border:"1px solid rgba(64, 139, 252, 0.8)",background:"rgba(64, 139, 252, 0.1)"};return image.initialWidth&&image.initialHeight&&("landscape"===container.orientation?imageStyle.height=image.height:imageStyle.width=image.width,"landscape"===image.orientation?(hotspotsStyle.height=image.width/image.ratio,hotspotsStyle.width=image.width,minimapStyle.width=100*image.ratio,minimapStyle.height=100,guideStyle.width=container.width>=image.width?100*image.ratio:100*image.ratio/(image.width/container.width),guideStyle.height=100/image.scale):(hotspotsStyle.height=image.height,hotspotsStyle.width=image.height/image.ratio,minimapStyle.width=100,minimapStyle.height=100*image.ratio,guideStyle.width=container.width>=image.width?100:100/(image.width/container.width),guideStyle.height=100*image.ratio/image.scale)),react_default.a.createElement("div",{ref:this.container,style:{width:"100%",height:"100%",position:"relative",overflow:"hidden",textAlign:"center",background:"#eee"}},react_default.a.createElement("img",{src:src,alt:alt,onLoad:this.onImageLoad,style:imageStyle}),!hideHotspots&&hotspots&&react_default.a.createElement("div",{style:hotspotsStyle},hotspots.map(function(_ref){var x=_ref.x,y=_ref.y,content=_ref.content;return react_default.a.createElement(src_Hotspot,{x:x,y:y,content:content})})),!hideControls&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{style:{position:"absolute",bottom:10,right:10}},react_default.a.createElement("button",{style:buttonStyle,onClick:function onClick(){return _this2.zoom(1)}},"Fit"),_ref2,_ref3,react_default.a.createElement("button",{style:buttonStyle,onClick:function onClick(){return _this2.zoom(image.scale+1)}},"+"),_ref4,react_default.a.createElement("button",{style:buttonStyle,onClick:function onClick(){return _this2.zoom(image.scale-1)}},"-")),react_default.a.createElement("div",{style:minimapStyle},react_default.a.createElement("div",{style:guideStyle}))))}},{key:"onImageLoad",value:function onImageLoad(_ref5){var image=_ref5.target,initialWidth=image.offsetWidth,initialHeight=image.offsetHeight,container=this.state.container,orientation=initialWidth>initialHeight?"landscape":"portrait",ratio="landscape"===orientation?initialWidth/initialHeight:initialHeight/initialWidth,width="landscape"===container.orientation?container.height*ratio:container.width,height="landscape"===container.orientation?container.height:container.width*ratio;this.setState(function(prevState){return{image:_objectSpread({},prevState.image,{initialWidth:initialWidth,initialHeight:initialHeight,width:width,height:height,scale:1,ratio:ratio,orientation:orientation})}})}},{key:"onWindowResize",value:function onWindowResize(){this.zoom(this.state.image.scale)}},{key:"zoom",value:function zoom(scale){if(0<scale){var _this$state2=this.state,container=_this$state2.container,image=_this$state2.image,width="landscape"===container.orientation?container.height*image.ratio*scale:container.width*scale,height="landscape"===container.orientation?container.height*scale:container.width*image.ratio*scale;width<image.initialWidth&&height<image.initialHeight&&this.setState(function(prevState){return{image:_objectSpread({},prevState.image,{width:width,height:height,scale:scale})}})}}}]),ImageHotspots}();ImageHotspots_ImageHotspots.displayName="ImageHotspots",ImageHotspots_ImageHotspots.propTypes={src:prop_types_default.a.string,alt:prop_types_default.a.string,hotspots:prop_types_default.a.array};__webpack_exports__.a=ImageHotspots_ImageHotspots;ImageHotspots_ImageHotspots.__docgenInfo={description:"",methods:[{name:"onImageLoad",docblock:null,modifiers:[],params:[{name:"{ target: image }",type:null}],returns:null},{name:"onWindowResize",docblock:null,modifiers:[],params:[],returns:null},{name:"zoom",docblock:null,modifiers:[],params:[{name:"scale",type:null}],returns:null}],displayName:"ImageHotspots",props:{src:{type:{name:"string"},required:!1,description:""},alt:{type:{name:"string"},required:!1,description:""},hotspots:{type:{name:"array"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ImageHotspots.js"]={name:"ImageHotspots",docgenInfo:ImageHotspots_ImageHotspots.__docgenInfo,path:"src/ImageHotspots.js"})}},[[236,1,2]]]);
//# sourceMappingURL=main.05b2bcee36e8ac9886b8.bundle.js.map